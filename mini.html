<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>PSP-AHX Mini player</title>
    <script src=js/ahx.js></script>
    <script src="http://editor.petscii.localhost/js/psp-lib.js"></script>
</head>

<body>
    <style>
        body{
            background: #000;
            text-align: center;
        }
        canvas{width:640px;}
    </style>
<canvas id=screen></canvas><br>

<button id=btnPlay>Play!</button>

<script type="text/javascript">
PSPinit({screen:document.getElementById('screen')});
setFps(60);
resize(40,25);//classic
ascii().write("READY");



function bufferize(){
    let mbuffer=Master.Output.MixingBuffer;
    if(!mbuffer)return;
    mbuffer.forEach(function(b,i){
        let byte=Math.abs(b);
        //let p=cols()*40;
        let x=i%40;
        let y=1+Math.floor(i/40);
        let p=x+y*cols();
        poke(p,[byte,3]);
    });
}
</script>

<script type="application/json" id="song1">{"Name":"Void","Restart":0,"PositionNr":4,"TrackLength":1,"TrackNr":1,"InstrumentNr":2,"SubsongNr":0,"Revision":0,"SpeedMultiplier":1,"Positions":[{"Track":[1,0,0,0],"Transpose":[0,0,3,7]},{"Track":[1,0,0,0],"Transpose":[-1,-2,2,5]},{"Track":[1,0,0,0],"Transpose":[-3,-4,0,3]},{"Track":[1,0,0,0],"Transpose":[-1,-2,2,5]}],"Tracks":[[{"Note":46,"Instrument":2,"FX":0,"FXParam":0}],[{"Note":42,"Instrument":1,"FX":15,"FXParam":160}]],"Instruments":[{"Name":"[UNUSED]","Volume":0,"WaveLength":0,"Envelope":{"aFrames":0,"aVolume":0,"dFrames":0,"dVolume":0,"sFrames":0,"rFrames":0,"rVolume":0},"FilterLowerLimit":0,"FilterUpperLimit":0,"FilterSpeed":0,"SquareLowerLimit":0,"SquareUpperLimit":0,"SquareSpeed":0,"VibratoDelay":0,"VibratoDepth":0,"VibratoSpeed":0,"HardCutRelease":0,"HardCutReleaseFrames":0,"PList":{"Speed":0,"Length":0,"Entries":[]},"Unused":true},{"Name":"PiNk","Volume":54,"WaveLength":5,"Envelope":{"aFrames":1,"aVolume":64,"dFrames":1,"dVolume":42,"sFrames":1,"rFrames":1,"rVolume":42},"FilterLowerLimit":0,"FilterUpperLimit":0,"FilterSpeed":0,"SquareLowerLimit":1,"SquareUpperLimit":63,"SquareSpeed":4,"VibratoDelay":0,"VibratoDepth":0,"VibratoSpeed":0,"HardCutRelease":0,"HardCutReleaseFrames":0,"PList":{"Speed":10,"Length":3,"Entries":[{"Note":1,"Fixed":0,"Waveform":3,"FX":[4,3],"FXParam":[0,32]},{"Note":13,"Fixed":0,"Waveform":0,"FX":[0,0],"FXParam":[0,0]},{"Note":1,"Fixed":0,"Waveform":0,"FX":[5,0],"FXParam":[1,0]}]}},{"Name":"","Volume":24,"WaveLength":4,"Envelope":{"aFrames":32,"aVolume":64,"dFrames":1,"dVolume":50,"sFrames":32,"rFrames":255,"rVolume":0},"FilterLowerLimit":0,"FilterUpperLimit":0,"FilterSpeed":0,"SquareLowerLimit":8,"SquareUpperLimit":63,"SquareSpeed":8,"VibratoDelay":64,"VibratoDepth":2,"VibratoSpeed":7,"HardCutRelease":0,"HardCutReleaseFrames":0,"PList":{"Speed":4,"Length":1,"Entries":[{"Note":1,"Fixed":0,"Waveform":3,"FX":[3,4],"FXParam":[16,0]}]}}],"Subsongs":[]}</script>

<script type="application/json" id="song2">{"Name":"Tiet","Restart":0,"PositionNr":4,"TrackLength":16,"TrackNr":10,"InstrumentNr":12,"SubsongNr":0,"Revision":1,"SpeedMultiplier":1,"Positions":[{"Track":[1,2,3,4],"Transpose":[0,0,0,0]},{"Track":[7,8,6,5],"Transpose":[0,0,0,0]},{"Track":[1,2,3,9],"Transpose":[0,0,0,0]},{"Track":[7,8,6,10],"Transpose":[0,0,0,0]}],"Tracks":[[{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0}],[{"Note":25,"Instrument":12,"FX":15,"FXParam":15},{"Note":32,"Instrument":12,"FX":0,"FXParam":0},{"Note":37,"Instrument":12,"FX":0,"FXParam":0},{"Note":32,"Instrument":12,"FX":0,"FXParam":0},{"Note":25,"Instrument":12,"FX":0,"FXParam":0},{"Note":32,"Instrument":12,"FX":0,"FXParam":0},{"Note":37,"Instrument":12,"FX":0,"FXParam":0},{"Note":32,"Instrument":12,"FX":0,"FXParam":0},{"Note":25,"Instrument":12,"FX":0,"FXParam":0},{"Note":33,"Instrument":12,"FX":0,"FXParam":0},{"Note":37,"Instrument":12,"FX":0,"FXParam":0},{"Note":33,"Instrument":12,"FX":0,"FXParam":0},{"Note":25,"Instrument":12,"FX":0,"FXParam":0},{"Note":33,"Instrument":12,"FX":0,"FXParam":0},{"Note":37,"Instrument":12,"FX":0,"FXParam":0},{"Note":33,"Instrument":12,"FX":0,"FXParam":0}],[{"Note":37,"Instrument":1,"FX":0,"FXParam":0},{"Note":25,"Instrument":5,"FX":0,"FXParam":0},{"Note":37,"Instrument":2,"FX":0,"FXParam":0},{"Note":37,"Instrument":1,"FX":0,"FXParam":0},{"Note":37,"Instrument":1,"FX":0,"FXParam":0},{"Note":25,"Instrument":5,"FX":0,"FXParam":0},{"Note":37,"Instrument":2,"FX":0,"FXParam":0},{"Note":37,"Instrument":1,"FX":0,"FXParam":0},{"Note":33,"Instrument":1,"FX":0,"FXParam":0},{"Note":21,"Instrument":5,"FX":0,"FXParam":0},{"Note":23,"Instrument":2,"FX":0,"FXParam":0},{"Note":33,"Instrument":1,"FX":0,"FXParam":0},{"Note":33,"Instrument":1,"FX":0,"FXParam":0},{"Note":21,"Instrument":5,"FX":0,"FXParam":0},{"Note":23,"Instrument":2,"FX":0,"FXParam":0},{"Note":33,"Instrument":1,"FX":0,"FXParam":0}],[{"Note":38,"Instrument":4,"FX":0,"FXParam":0},{"Note":38,"Instrument":4,"FX":0,"FXParam":0},{"Note":38,"Instrument":4,"FX":0,"FXParam":0},{"Note":38,"Instrument":4,"FX":0,"FXParam":0},{"Note":38,"Instrument":4,"FX":0,"FXParam":0},{"Note":38,"Instrument":4,"FX":0,"FXParam":0},{"Note":38,"Instrument":4,"FX":0,"FXParam":0},{"Note":38,"Instrument":4,"FX":0,"FXParam":0},{"Note":36,"Instrument":6,"FX":0,"FXParam":0},{"Note":36,"Instrument":6,"FX":0,"FXParam":0},{"Note":36,"Instrument":6,"FX":0,"FXParam":0},{"Note":36,"Instrument":6,"FX":0,"FXParam":0},{"Note":36,"Instrument":6,"FX":0,"FXParam":0},{"Note":36,"Instrument":6,"FX":0,"FXParam":0},{"Note":36,"Instrument":6,"FX":0,"FXParam":0},{"Note":36,"Instrument":6,"FX":0,"FXParam":0}],[{"Note":37,"Instrument":10,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":32,"Instrument":10,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":40,"Instrument":10,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":39,"Instrument":10,"FX":0,"FXParam":0},{"Note":37,"Instrument":10,"FX":0,"FXParam":0},{"Note":39,"Instrument":10,"FX":3,"FXParam":4},{"Note":0,"Instrument":0,"FX":3,"FXParam":4},{"Note":40,"Instrument":10,"FX":0,"FXParam":0},{"Note":37,"Instrument":10,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0}],[{"Note":39,"Instrument":10,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":37,"Instrument":10,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":35,"Instrument":10,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":39,"Instrument":10,"FX":0,"FXParam":0},{"Note":37,"Instrument":10,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0}],[{"Note":38,"Instrument":6,"FX":0,"FXParam":0},{"Note":38,"Instrument":6,"FX":0,"FXParam":0},{"Note":38,"Instrument":6,"FX":0,"FXParam":0},{"Note":38,"Instrument":6,"FX":0,"FXParam":0},{"Note":38,"Instrument":6,"FX":0,"FXParam":0},{"Note":38,"Instrument":6,"FX":0,"FXParam":0},{"Note":38,"Instrument":6,"FX":0,"FXParam":0},{"Note":38,"Instrument":6,"FX":0,"FXParam":0},{"Note":38,"Instrument":4,"FX":0,"FXParam":0},{"Note":38,"Instrument":4,"FX":0,"FXParam":0},{"Note":38,"Instrument":4,"FX":0,"FXParam":0},{"Note":38,"Instrument":4,"FX":0,"FXParam":0},{"Note":38,"Instrument":4,"FX":0,"FXParam":0},{"Note":38,"Instrument":4,"FX":0,"FXParam":0},{"Note":38,"Instrument":4,"FX":0,"FXParam":0},{"Note":38,"Instrument":4,"FX":0,"FXParam":0}],[{"Note":23,"Instrument":12,"FX":0,"FXParam":0},{"Note":30,"Instrument":12,"FX":0,"FXParam":0},{"Note":35,"Instrument":12,"FX":0,"FXParam":0},{"Note":30,"Instrument":12,"FX":0,"FXParam":0},{"Note":23,"Instrument":12,"FX":0,"FXParam":0},{"Note":30,"Instrument":12,"FX":0,"FXParam":0},{"Note":35,"Instrument":12,"FX":0,"FXParam":0},{"Note":30,"Instrument":12,"FX":0,"FXParam":0},{"Note":25,"Instrument":12,"FX":0,"FXParam":0},{"Note":32,"Instrument":12,"FX":0,"FXParam":0},{"Note":37,"Instrument":12,"FX":0,"FXParam":0},{"Note":32,"Instrument":12,"FX":0,"FXParam":0},{"Note":25,"Instrument":12,"FX":0,"FXParam":0},{"Note":32,"Instrument":12,"FX":0,"FXParam":0},{"Note":37,"Instrument":12,"FX":0,"FXParam":0},{"Note":32,"Instrument":12,"FX":0,"FXParam":0}],[{"Note":35,"Instrument":1,"FX":0,"FXParam":0},{"Note":23,"Instrument":5,"FX":0,"FXParam":0},{"Note":37,"Instrument":2,"FX":0,"FXParam":0},{"Note":35,"Instrument":1,"FX":0,"FXParam":0},{"Note":35,"Instrument":1,"FX":0,"FXParam":0},{"Note":23,"Instrument":5,"FX":0,"FXParam":0},{"Note":37,"Instrument":2,"FX":0,"FXParam":0},{"Note":35,"Instrument":1,"FX":0,"FXParam":0},{"Note":37,"Instrument":1,"FX":0,"FXParam":0},{"Note":25,"Instrument":5,"FX":0,"FXParam":0},{"Note":23,"Instrument":2,"FX":0,"FXParam":0},{"Note":37,"Instrument":1,"FX":0,"FXParam":0},{"Note":37,"Instrument":1,"FX":0,"FXParam":0},{"Note":25,"Instrument":5,"FX":0,"FXParam":0},{"Note":23,"Instrument":2,"FX":0,"FXParam":0},{"Note":37,"Instrument":1,"FX":0,"FXParam":0}],[{"Note":37,"Instrument":10,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":32,"Instrument":10,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":40,"Instrument":10,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":39,"Instrument":10,"FX":0,"FXParam":0},{"Note":37,"Instrument":10,"FX":0,"FXParam":0},{"Note":39,"Instrument":10,"FX":3,"FXParam":4},{"Note":0,"Instrument":0,"FX":3,"FXParam":4},{"Note":40,"Instrument":10,"FX":0,"FXParam":0},{"Note":42,"Instrument":10,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0}],[{"Note":44,"Instrument":10,"FX":0,"FXParam":0},{"Note":42,"Instrument":10,"FX":0,"FXParam":0},{"Note":40,"Instrument":10,"FX":0,"FXParam":0},{"Note":39,"Instrument":10,"FX":0,"FXParam":0},{"Note":40,"Instrument":10,"FX":0,"FXParam":0},{"Note":39,"Instrument":10,"FX":0,"FXParam":0},{"Note":37,"Instrument":10,"FX":0,"FXParam":0},{"Note":35,"Instrument":10,"FX":0,"FXParam":0},{"Note":37,"Instrument":10,"FX":3,"FXParam":4},{"Note":0,"Instrument":0,"FX":3,"FXParam":4},{"Note":32,"Instrument":10,"FX":0,"FXParam":0},{"Note":25,"Instrument":10,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0},{"Note":0,"Instrument":0,"FX":0,"FXParam":0}]],"Instruments":[{"Name":"","Volume":0,"WaveLength":0,"Envelope":{"aFrames":0,"aVolume":0,"dFrames":0,"dVolume":0,"sFrames":0,"rFrames":0,"rVolume":0},"FilterLowerLimit":0,"FilterUpperLimit":0,"FilterSpeed":0,"SquareLowerLimit":0,"SquareUpperLimit":0,"SquareSpeed":0,"VibratoDelay":0,"VibratoDepth":0,"VibratoSpeed":0,"HardCutRelease":0,"HardCutReleaseFrames":0,"PList":{"Speed":0,"Length":0,"Entries":[]}},{"Name":"   cOMPOSED bY","Volume":64,"WaveLength":5,"Envelope":{"aFrames":1,"aVolume":64,"dFrames":1,"dVolume":42,"sFrames":1,"rFrames":1,"rVolume":42},"FilterLowerLimit":0,"FilterUpperLimit":0,"FilterSpeed":0,"SquareLowerLimit":1,"SquareUpperLimit":63,"SquareSpeed":2,"VibratoDelay":8,"VibratoDepth":2,"VibratoSpeed":9,"HardCutRelease":0,"HardCutReleaseFrames":0,"PList":{"Speed":1,"Length":2,"Entries":[{"Note":60,"Fixed":1,"Waveform":4,"FX":[6,3],"FXParam":[104,32]},{"Note":1,"Fixed":0,"Waveform":3,"FX":[6,4],"FXParam":[144,0]}]}},{"Name":"    PiNk/abYSs","Volume":64,"WaveLength":5,"Envelope":{"aFrames":2,"aVolume":64,"dFrames":7,"dVolume":6,"sFrames":1,"rFrames":8,"rVolume":0},"FilterLowerLimit":0,"FilterUpperLimit":0,"FilterSpeed":0,"SquareLowerLimit":4,"SquareUpperLimit":63,"SquareSpeed":1,"VibratoDelay":0,"VibratoDepth":1,"VibratoSpeed":1,"HardCutRelease":0,"HardCutReleaseFrames":0,"PList":{"Speed":1,"Length":6,"Entries":[{"Note":58,"Fixed":1,"Waveform":4,"FX":[3,6],"FXParam":[32,127]},{"Note":56,"Fixed":1,"Waveform":3,"FX":[6,2],"FXParam":[144,16]},{"Note":0,"Fixed":1,"Waveform":0,"FX":[0,2],"FXParam":[0,16]},{"Note":53,"Fixed":1,"Waveform":4,"FX":[6,0],"FXParam":[112,0]},{"Note":54,"Fixed":1,"Waveform":4,"FX":[0,3],"FXParam":[0,32]},{"Note":55,"Fixed":1,"Waveform":3,"FX":[6,5],"FXParam":[146,3]}]}},{"Name":"[UNUSED]","Volume":0,"WaveLength":0,"Envelope":{"aFrames":1,"aVolume":0,"dFrames":1,"dVolume":0,"sFrames":1,"rFrames":1,"rVolume":0},"FilterLowerLimit":1,"FilterUpperLimit":31,"FilterSpeed":4,"SquareLowerLimit":32,"SquareUpperLimit":63,"SquareSpeed":1,"VibratoDelay":0,"VibratoDepth":0,"VibratoSpeed":0,"HardCutRelease":0,"HardCutReleaseFrames":0,"PList":{"Speed":1,"Length":0,"Entries":[]},"Unused":true},{"Name":"Manfred.Linzner@","Volume":50,"WaveLength":3,"Envelope":{"aFrames":2,"aVolume":64,"dFrames":1,"dVolume":32,"sFrames":1,"rFrames":8,"rVolume":10},"FilterLowerLimit":0,"FilterUpperLimit":0,"FilterSpeed":0,"SquareLowerLimit":4,"SquareUpperLimit":63,"SquareSpeed":1,"VibratoDelay":0,"VibratoDepth":0,"VibratoSpeed":0,"HardCutRelease":0,"HardCutReleaseFrames":0,"PList":{"Speed":1,"Length":5,"Entries":[{"Note":12,"Fixed":0,"Waveform":3,"FX":[3,4],"FXParam":[48,0]},{"Note":15,"Fixed":0,"Waveform":0,"FX":[0,0],"FXParam":[0,0]},{"Note":19,"Fixed":0,"Waveform":0,"FX":[0,0],"FXParam":[0,0]},{"Note":12,"Fixed":0,"Waveform":0,"FX":[5,0],"FXParam":[1,0]},{"Note":0,"Fixed":0,"Waveform":0,"FX":[0,0],"FXParam":[0,0]}]}},{"Name":"munich.netsurf.de","Volume":64,"WaveLength":5,"Envelope":{"aFrames":1,"aVolume":64,"dFrames":1,"dVolume":52,"sFrames":1,"rFrames":5,"rVolume":10},"FilterLowerLimit":0,"FilterUpperLimit":0,"FilterSpeed":0,"SquareLowerLimit":1,"SquareUpperLimit":63,"SquareSpeed":1,"VibratoDelay":8,"VibratoDepth":2,"VibratoSpeed":9,"HardCutRelease":0,"HardCutReleaseFrames":0,"PList":{"Speed":1,"Length":2,"Entries":[{"Note":60,"Fixed":1,"Waveform":4,"FX":[6,3],"FXParam":[104,63]},{"Note":1,"Fixed":0,"Waveform":3,"FX":[6,4],"FXParam":[144,0]}]}},{"Name":"","Volume":50,"WaveLength":3,"Envelope":{"aFrames":2,"aVolume":64,"dFrames":1,"dVolume":32,"sFrames":1,"rFrames":8,"rVolume":10},"FilterLowerLimit":0,"FilterUpperLimit":0,"FilterSpeed":0,"SquareLowerLimit":4,"SquareUpperLimit":63,"SquareSpeed":1,"VibratoDelay":0,"VibratoDepth":0,"VibratoSpeed":0,"HardCutRelease":0,"HardCutReleaseFrames":0,"PList":{"Speed":1,"Length":5,"Entries":[{"Note":10,"Fixed":0,"Waveform":3,"FX":[3,4],"FXParam":[48,0]},{"Note":14,"Fixed":0,"Waveform":0,"FX":[0,0],"FXParam":[0,0]},{"Note":17,"Fixed":0,"Waveform":0,"FX":[0,0],"FXParam":[0,0]},{"Note":10,"Fixed":0,"Waveform":0,"FX":[5,0],"FXParam":[1,0]},{"Note":0,"Fixed":0,"Waveform":0,"FX":[0,0],"FXParam":[0,0]}]}},{"Name":"[UNUSED]","Volume":0,"WaveLength":0,"Envelope":{"aFrames":1,"aVolume":0,"dFrames":1,"dVolume":0,"sFrames":1,"rFrames":1,"rVolume":0},"FilterLowerLimit":1,"FilterUpperLimit":31,"FilterSpeed":4,"SquareLowerLimit":32,"SquareUpperLimit":63,"SquareSpeed":1,"VibratoDelay":0,"VibratoDepth":0,"VibratoSpeed":0,"HardCutRelease":0,"HardCutReleaseFrames":0,"PList":{"Speed":1,"Length":0,"Entries":[]},"Unused":true},{"Name":"[UNUSED]","Volume":0,"WaveLength":0,"Envelope":{"aFrames":1,"aVolume":0,"dFrames":1,"dVolume":0,"sFrames":1,"rFrames":1,"rVolume":0},"FilterLowerLimit":1,"FilterUpperLimit":31,"FilterSpeed":4,"SquareLowerLimit":32,"SquareUpperLimit":63,"SquareSpeed":1,"VibratoDelay":0,"VibratoDepth":0,"VibratoSpeed":0,"HardCutRelease":0,"HardCutReleaseFrames":0,"PList":{"Speed":1,"Length":0,"Entries":[]},"Unused":true},{"Name":"[UNUSED]","Volume":0,"WaveLength":0,"Envelope":{"aFrames":1,"aVolume":0,"dFrames":1,"dVolume":0,"sFrames":1,"rFrames":1,"rVolume":0},"FilterLowerLimit":1,"FilterUpperLimit":31,"FilterSpeed":4,"SquareLowerLimit":32,"SquareUpperLimit":63,"SquareSpeed":1,"VibratoDelay":0,"VibratoDepth":0,"VibratoSpeed":0,"HardCutRelease":0,"HardCutReleaseFrames":0,"PList":{"Speed":1,"Length":0,"Entries":[]},"Unused":true},{"Name":"","Volume":61,"WaveLength":2,"Envelope":{"aFrames":1,"aVolume":64,"dFrames":1,"dVolume":42,"sFrames":1,"rFrames":1,"rVolume":30},"FilterLowerLimit":0,"FilterUpperLimit":0,"FilterSpeed":0,"SquareLowerLimit":8,"SquareUpperLimit":63,"SquareSpeed":2,"VibratoDelay":16,"VibratoDepth":5,"VibratoSpeed":9,"HardCutRelease":0,"HardCutReleaseFrames":0,"PList":{"Speed":1,"Length":2,"Entries":[{"Note":3,"Fixed":0,"Waveform":2,"FX":[3,0],"FXParam":[32,0]},{"Note":1,"Fixed":0,"Waveform":3,"FX":[0,0],"FXParam":[0,0]}]}},{"Name":"[UNUSED]","Volume":0,"WaveLength":0,"Envelope":{"aFrames":1,"aVolume":0,"dFrames":1,"dVolume":0,"sFrames":1,"rFrames":1,"rVolume":0},"FilterLowerLimit":1,"FilterUpperLimit":31,"FilterSpeed":4,"SquareLowerLimit":32,"SquareUpperLimit":63,"SquareSpeed":1,"VibratoDelay":0,"VibratoDepth":0,"VibratoSpeed":0,"HardCutRelease":0,"HardCutReleaseFrames":0,"PList":{"Speed":1,"Length":0,"Entries":[]},"Unused":true},{"Name":"","Volume":54,"WaveLength":1,"Envelope":{"aFrames":1,"aVolume":32,"dFrames":1,"dVolume":64,"sFrames":1,"rFrames":4,"rVolume":10},"FilterLowerLimit":0,"FilterUpperLimit":0,"FilterSpeed":0,"SquareLowerLimit":32,"SquareUpperLimit":63,"SquareSpeed":1,"VibratoDelay":0,"VibratoDepth":0,"VibratoSpeed":0,"HardCutRelease":0,"HardCutReleaseFrames":1,"PList":{"Speed":1,"Length":3,"Entries":[{"Note":58,"Fixed":1,"Waveform":4,"FX":[0,0],"FXParam":[0,0]},{"Note":1,"Fixed":0,"Waveform":2,"FX":[0,0],"FXParam":[0,0]},{"Note":13,"Fixed":0,"Waveform":1,"FX":[5,0],"FXParam":[1,0]}]}}],"Subsongs":[]}</script>
<script>
const Master = AHXMaster();
let song1=new AHXSong();
song1.loadJson(JSON.parse(document.getElementById('song1').innerHTML));

let song2=new AHXSong();
song2.loadJson(JSON.parse(document.getElementById('song2').innerHTML));

btnPlay.onclick=function(){
    console.log('play?');

    Master.Play(song2);//start!
    hook(bufferize);
}

</script>